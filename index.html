<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vacature Analyse Tool - Verhoog Response Rate 40% | Recruitin</title>
    <meta name="description" content="Gratis AI vacature analyse tool. Krijg binnen 30 seconden data-driven insights over je vacaturetekst. Verhoog kandidaat response met 40%. Trusted by 50+ bedrijven.">
    <meta name="keywords" content="vacature analyse, recruitment tool, kandidaten vinden, hiring, HR tool, AI recruitment">
    <meta name="robots" content="index, follow">
    <meta name="author" content="Recruitin">
    
    <!-- Security Headers -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://embed.typeform.com https://js.typeform.com https://www.googletagmanager.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https:; frame-src https://form.typeform.com; connect-src 'self' https://embed.typeform.com https://api.typeform.com;">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://recruitin.nl/vacature-analyse">
    <meta property="og:title" content="Gratis Vacature Analyse Tool - Verhoog Response Rate 40%">
    <meta property="og:description" content="AI-powered vacature analyse tool. Krijg binnen 30 seconden professionelle insights over je vacaturetekst. Gratis te gebruiken!">
    <meta property="og:image" content="https://recruitin.nl/images/vacature-analyse-preview.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://recruitin.nl/vacature-analyse">
    <meta property="twitter:title" content="Gratis Vacature Analyse Tool - Verhoog Response Rate 40%">
    <meta property="twitter:description" content="AI-powered vacature analyse tool. Krijg binnen 30 seconden professionelle insights over je vacaturetekst. Gratis te gebruiken!">
    <meta property="twitter:image" content="https://recruitin.nl/images/vacature-analyse-preview.jpg">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Recruitin Vacature Analyse Tool",
        "description": "Gratis AI-powered tool voor het analyseren en optimaliseren van vacatureteksten",
        "url": "https://recruitin.nl/vacature-analyse",
        "applicationCategory": "BusinessApplication",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "EUR"
        },
        "provider": {
            "@type": "Organization",
            "name": "Recruitin",
            "url": "https://recruitin.nl"
        },
        "featureList": [
            "AI vacature analyse",
            "Response rate optimalisatie", 
            "Recruitment insights",
            "Nederlandse benchmark data"
        ]
    }
    </script>

    <!-- DNS Prefetch & Preconnect -->
    <link rel="dns-prefetch" href="//embed.typeform.com">
    <link rel="dns-prefetch" href="//js.typeform.com">
    <link rel="dns-prefetch" href="//form.typeform.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Preload critical resources -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"></noscript>
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://recruitin.nl/vacature-analyse">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#ff6b35">
    <meta name="msapplication-TileColor" content="#ff6b35">

    <!-- Analytics (GDPR Compliant) -->
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        
        // Default to denied until consent
        gtag('consent', 'default', {
            'ad_storage': 'denied',
            'analytics_storage': 'denied'
        });
    </script>
    
    <!-- Critical CSS inlined -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        :root {
            --primary-orange: #ff6b35;
            --primary-orange-light: #ff8a5e;
            --primary-orange-dark: #e55a2b;
            --recruitin-blue: #2c3e50;
            --recruitin-blue-light: #34495e;
            --success-green: #10b981;
            --warning-yellow: #f59e0b;
            --danger-red: #ef4444;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-400: #9ca3af;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --gray-900: #111827;
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: var(--gray-800);
            background: linear-gradient(135deg, var(--gray-50) 0%, var(--gray-100) 100%);
            min-height: 100vh;
            font-feature-settings: 'kern' 1, 'liga' 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 32px 24px;
        }

        .header {
            text-align: center;
            margin-bottom: 48px;
            padding: 40px 0;
            position: relative;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-orange) 0%, var(--primary-orange-light) 100%);
            border-radius: 2px;
        }

        .brand-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
            margin-bottom: 24px;
        }

        .logo {
            font-size: 3rem;
            font-weight: 800;
            color: var(--recruitin-blue);
            letter-spacing: -0.02em;
            position: relative;
        }

        .logo .accent {
            color: var(--primary-orange);
            position: relative;
        }

        .logo .accent::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-orange) 0%, transparent 100%);
            border-radius: 2px;
        }

        .beta-badge {
            background: linear-gradient(135deg, var(--primary-orange) 0%, var(--primary-orange-dark) 100%);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: var(--shadow-sm);
        }

        .tagline {
            font-size: 1.375rem;
            font-weight: 600;
            color: var(--gray-700);
            margin-bottom: 12px;
            line-height: 1.4;
        }

        .subtitle {
            font-size: 1.125rem;
            color: var(--gray-500);
            font-weight: 400;
            max-width: 600px;
            margin: 0 auto 32px auto;
            line-height: 1.5;
        }

        /* Demo Section */
        .demo-section {
            background: var(--gray-50);
            padding: 40px 0;
            border: 2px dashed var(--gray-300);
            border-radius: 16px;
            margin-bottom: 40px;
            text-align: center;
        }

        .demo-title {
            color: var(--recruitin-blue);
            margin-bottom: 24px;
            font-size: 1.5rem;
            font-weight: 600;
        }

        .demo-btn {
            background: linear-gradient(135deg, var(--primary-orange) 0%, var(--primary-orange-dark) 100%);
            color: white;
            border: none;
            padding: 16px 32px;
            border-radius: 12px;
            font-size: 1.125rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 12px;
            box-shadow: var(--shadow-md);
        }

        .demo-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        /* Main Analyzer Section */
        .analyzer-section {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: var(--shadow-lg);
            margin-bottom: 40px;
        }

        .analyzer-header {
            text-align: center;
            margin-bottom: 32px;
        }

        .analyzer-title {
            font-size: 2rem;
            font-weight: 700;
            color: var(--recruitin-blue);
            margin-bottom: 12px;
        }

        .analyzer-subtitle {
            font-size: 1.125rem;
            color: var(--gray-600);
            max-width: 500px;
            margin: 0 auto;
        }

        /* Input Section */
        .input-section {
            margin-bottom: 32px;
        }

        .input-label {
            display: block;
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--gray-700);
            margin-bottom: 12px;
        }

        .input-textarea {
            width: 100%;
            min-height: 200px;
            padding: 20px;
            border: 2px solid var(--gray-300);
            border-radius: 12px;
            font-size: 1rem;
            font-family: inherit;
            resize: vertical;
            transition: all 0.3s ease;
            background: var(--gray-50);
        }

        .input-textarea:focus {
            outline: none;
            border-color: var(--primary-orange);
            background: white;
            box-shadow: 0 0 0 4px rgba(255, 107, 53, 0.1);
        }

        .input-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 8px;
            font-size: 0.875rem;
            color: var(--gray-500);
        }

        .char-counter {
            font-weight: 500;
        }

        /* Analyze Button */
        .analyze-btn {
            width: 100%;
            background: linear-gradient(135deg, var(--success-green) 0%, #059669 100%);
            color: white;
            border: none;
            padding: 20px;
            border-radius: 12px;
            font-size: 1.25rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            box-shadow: var(--shadow-md);
        }

        .analyze-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .analyze-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        /* Loading Animation */
        .loading-spinner {
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top: 2px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Results Section */
        .results-section {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: var(--shadow-lg);
            margin-bottom: 40px;
        }

        .results-header {
            text-align: center;
            margin-bottom: 32px;
        }

        .results-title {
            font-size: 2rem;
            font-weight: 700;
            color: var(--recruitin-blue);
            margin-bottom: 12px;
        }

        .overall-score {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
            margin-bottom: 32px;
            padding: 24px;
            background: linear-gradient(135deg, var(--gray-50) 0%, white 100%);
            border-radius: 12px;
            border: 1px solid var(--gray-200);
        }

        .score-circle {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: 800;
            color: white;
            position: relative;
        }

        .score-circle.excellent {
            background: linear-gradient(135deg, var(--success-green) 0%, #10b981 100%);
        }

        .score-circle.good {
            background: linear-gradient(135deg, var(--warning-yellow) 0%, #f59e0b 100%);
        }

        .score-circle.poor {
            background: linear-gradient(135deg, var(--danger-red) 0%, #ef4444 100%);
        }

        .score-details {
            text-align: left;
        }

        .score-label {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--gray-700);
        }

        .score-description {
            color: var(--gray-500);
            margin-top: 4px;
        }

        /* Analysis Points */
        .analysis-points {
            display: grid;
            gap: 20px;
            margin-bottom: 32px;
        }

        .analysis-point {
            background: var(--gray-50);
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid var(--primary-orange);
        }

        .point-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px;
        }

        .point-icon {
            font-size: 1.5rem;
        }

        .point-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--gray-800);
        }

        .point-description {
            color: var(--gray-600);
            line-height: 1.6;
        }

        /* Recommendations */
        .recommendations {
            background: linear-gradient(135deg, #fef3e2 0%, #fef3e2 100%);
            padding: 32px;
            border-radius: 16px;
            border: 1px solid #fed7aa;
            margin-bottom: 32px;
        }

        .recommendations-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--gray-800);
            margin-bottom: 20px;
            text-align: center;
        }

        .recommendation-list {
            display: grid;
            gap: 16px;
        }

        .recommendation-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            background: white;
            padding: 16px;
            border-radius: 8px;
            box-shadow: var(--shadow-sm);
        }

        .recommendation-icon {
            font-size: 1.25rem;
            margin-top: 2px;
        }

        .recommendation-text {
            font-size: 1rem;
            color: var(--gray-700);
            line-height: 1.6;
        }

        /* CTA Section */
        .cta-section {
            background: linear-gradient(135deg, var(--primary-orange) 0%, var(--primary-orange-dark) 100%);
            color: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            margin-bottom: 40px;
        }

        .cta-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 16px;
        }

        .cta-subtitle {
            font-size: 1.125rem;
            opacity: 0.95;
            margin-bottom: 32px;
            line-height: 1.6;
        }

        .cta-btn {
            background: white;
            color: var(--primary-orange);
            border: none;
            padding: 16px 32px;
            border-radius: 12px;
            font-size: 1.25rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 12px;
        }

        .cta-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        /* TypeForm Modal Styles */
        .typeform-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(8px);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            padding: 20px;
            opacity: 0;
            transition: all 0.3s ease;
        }

        .typeform-modal.show {
            display: flex;
            opacity: 1;
        }

        .typeform-container {
            background: white;
            border-radius: 20px;
            width: 100%;
            max-width: 900px;
            height: 85vh;
            max-height: 700px;
            position: relative;
            box-shadow: var(--shadow-xl);
            transform: scale(0.9);
            transition: transform 0.3s ease;
            overflow: hidden;
            border: 2px solid var(--primary-orange);
        }

        .typeform-modal.show .typeform-container {
            transform: scale(1);
        }

        .typeform-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 24px;
            border-bottom: 2px solid var(--gray-200);
            background: linear-gradient(135deg, var(--gray-50) 0%, white 100%);
        }

        .typeform-header h3 {
            color: var(--recruitin-blue);
            font-size: 1.25rem;
            font-weight: 700;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .typeform-close {
            background: var(--gray-200);
            border: none;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: var(--gray-600);
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .typeform-close:hover {
            background: var(--danger-red);
            color: white;
            transform: scale(1.1);
        }

        .typeform-embed {
            height: calc(100% - 80px);
            width: 100%;
            background: var(--gray-50);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .typeform-embed iframe {
            width: 100%;
            height: 100%;
            border: none;
            background: white;
        }

        .typeform-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: var(--gray-600);
            z-index: 1;
        }

        .typeform-loading.hidden {
            display: none;
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid var(--gray-200);
            border-top: 4px solid var(--primary-orange);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 16px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 20px 16px;
            }
            
            .logo {
                font-size: 2.25rem;
            }

            .tagline {
                font-size: 1.25rem;
            }

            .subtitle {
                font-size: 1rem;
            }

            .brand-container {
                flex-direction: column;
                gap: 12px;
            }

            .beta-badge {
                order: -1;
            }

            .typeform-modal {
                padding: 10px;
            }

            .typeform-container {
                max-height: 90vh;
                height: 90vh;
            }

            .typeform-header {
                padding: 16px 20px;
            }

            .typeform-header h3 {
                font-size: 1.125rem;
            }

            .typeform-close {
                width: 32px;
                height: 32px;
                font-size: 18px;
            }

            .cta-btn,
            .demo-btn,
            .analyze-btn {
                width: 100%;
                padding: 16px 24px;
                font-size: 1rem;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 16px 12px;
            }

            .logo {
                font-size: 2rem;
            }

            .typeform-modal {
                padding: 5px;
            }

            .typeform-container {
                height: 95vh;
                max-height: 95vh;
            }

            .typeform-header {
                padding: 12px 16px;
            }

            .typeform-header h3 {
                font-size: 1rem;
            }
        }

        /* Error States */
        .typeform-error {
            text-align: center;
            padding: 40px 20px;
            color: var(--danger-red);
        }

        .error-icon {
            font-size: 3rem;
            margin-bottom: 16px;
        }

        .error-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .error-message {
            color: var(--gray-600);
            margin-bottom: 24px;
        }

        .retry-btn {
            background: var(--primary-orange);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .retry-btn:hover {
            background: var(--primary-orange-dark);
            transform: translateY(-1px);
        }

        /* Hidden by default */
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="brand-container">
                <div class="logo">Recruit<span class="accent">in</span></div>
                <div class="beta-badge">AI Beta</div>
            </div>
            <div class="tagline">üéØ <strong>Verhoog Response Rate met 40%</strong> - In 30 seconden</div>
            <div class="subtitle">Krijg data-driven insights over je vacaturetekst met Nederlandse recruitment benchmarks. Trusted by 50+ bedrijven.</div>
        </header>

        <!-- Demo Section -->
        <div class="demo-section">
            <h3 class="demo-title">üöÄ Test de Vacature Analyse Tool</h3>
            <p style="color: var(--gray-600); margin-bottom: 24px; font-size: 1rem;">Probeer direct onze AI-powered analyse met een voorbeeld vacature:</p>
            
            <button class="demo-btn" onclick="loadDemoVacature()">
                <span>üìù</span>
                <span>Probeer Demo Vacature</span>
                <span>‚Üí</span>
            </button>
        </div>

        <!-- Main Analyzer Section -->
        <div class="analyzer-section">
            <div class="analyzer-header">
                <h1 class="analyzer-title">üîç Vacature Analyse Tool</h1>
                <p class="analyzer-subtitle">Plak je vacaturetekst en krijg binnen 30 seconden professionelle feedback met concrete verbeterpunten</p>
            </div>

            <div class="input-section">
                <label for="vacatureInput" class="input-label">
                    üìù Voer je vacaturetekst in:
                </label>
                
                <textarea 
                    id="vacatureInput" 
                    class="input-textarea"
                    placeholder="Plak hier je volledige vacaturetekst...

Voorbeeld:
Senior Marketing Manager - Amsterdam

Wij zoeken een ervaren marketing professional voor ons groeiende team...

üí° Tip: Voeg de complete vacature toe inclusief functietitel, taken, eisen, salaris en bedrijfsinfo voor de beste analyse!"
                    maxlength="8000"
                ></textarea>
                
                <div class="input-info">
                    <span class="char-counter">
                        <span id="charCount">0</span> / 8000 karakters
                    </span>
                    <span class="input-tip">Minimaal 100 woorden aanbevolen</span>
                </div>
            </div>

            <button id="analyzeBtn" class="analyze-btn" onclick="analyzeVacature()">
                <span id="analyzeIcon">üöÄ</span>
                <span id="analyzeText">Analyseer Vacature</span>
            </button>
        </div>

        <!-- Results Section (Hidden by default) -->
        <div id="resultsSection" class="results-section hidden">
            <div class="results-header">
                <h2 class="results-title">üìä Analyse Resultaten</h2>
            </div>
            
            <div id="resultsContent">
                <!-- Results will be dynamically inserted here -->
            </div>
        </div>

        <!-- CTA Section (Hidden by default) -->
        <div id="ctaSection" class="cta-section hidden">
            <h3 class="cta-title">üéâ Wil je een volledig geoptimaliseerde versie?</h3>
            <p class="cta-subtitle">Upload je vacature en ontvang binnen 24 uur een professioneel herschreven versie die 40% meer sollicitaties genereert.</p>
            
            <button class="cta-btn" onclick="openTypeForm()">
                <span>üìÑ</span>
                <span>Upload je Vacature</span>
                <span>‚Üí</span>
            </button>
        </div>

        <!-- TypeForm Modal -->
        <div id="typeformModal" class="typeform-modal" role="dialog" aria-labelledby="typeform-title" aria-modal="true">
            <div class="typeform-container">
                <div class="typeform-header">
                    <h3 id="typeform-title">üìù Vacature Upload Formulier</h3>
                    <button class="typeform-close" onclick="closeTypeForm()" aria-label="Sluit formulier">√ó</button>
                </div>
                <div class="typeform-embed">
                    <div id="typeformLoading" class="typeform-loading">
                        <div class="loading-spinner"></div>
                        <div>Formulier laden...</div>
                    </div>
                    <div id="typeformContent"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let typeformIntegration;
        const formId = '01K25SKWYTKZ05DAHER9D52J94';

        // Character counter
        const vacatureInput = document.getElementById('vacatureInput');
        const charCount = document.getElementById('charCount');

        vacatureInput.addEventListener('input', function() {
            charCount.textContent = this.value.length;
        });

        // Demo vacature loader
        function loadDemoVacature() {
            const demoText = `Senior Marketing Manager - TechStart Amsterdam

Ben jij een ervaren marketing professional die klaar is voor de volgende stap? TechStart, een snelgroeiende tech scale-up in Amsterdam, zoekt een Senior Marketing Manager om ons team te versterken!

Over de functie:
Als Senior Marketing Manager ben je verantwoordelijk voor het ontwikkelen en uitvoeren van onze marketingstrategie. Je werkt nauw samen met het sales team en rapporteert direct aan de CMO.

Wat ga je doen:
‚Ä¢ Ontwikkelen van marketingcampagnes voor B2B doelgroepen
‚Ä¢ Beheren van ons marketing budget (‚Ç¨500K+)
‚Ä¢ Leiden van een team van 3 marketing specialisten  
‚Ä¢ Samenwerken met externe agencies
‚Ä¢ Analyseren van marketing performance en ROI

Wat wij zoeken:
‚Ä¢ Minimaal 5 jaar ervaring in B2B marketing
‚Ä¢ HBO/WO diploma Marketing, Communicatie of gerelateerd
‚Ä¢ Ervaring met marketing automation tools (HubSpot)
‚Ä¢ Sterke analytische vaardigheden
‚Ä¢ Uitstekende communicatie in Nederlands en Engels

Wat wij bieden:
‚Ä¢ Salaris tussen ‚Ç¨65.000 - ‚Ç¨80.000 per jaar
‚Ä¢ 25 vakantiedagen + 5 ADV dagen
‚Ä¢ Flexibel thuiswerken (2-3 dagen kantoor)
‚Ä¢ Budget voor persoonlijke ontwikkeling
‚Ä¢ Laptop en telefoon van de zaak
‚Ä¢ Uitstekende pensioenregeling

Over TechStart:
TechStart is een innovatief softwarebedrijf dat AI-oplossingen ontwikkelt voor de logistieke sector. We werken met grote klanten zoals DHL en PostNL. Ons team van 45 mensen werkt vanuit ons moderne kantoor in Amsterdam Noord.

Interesse?
Stuur je CV en motivatie naar jobs@techstart.nl of bel 020-1234567 voor meer informatie. Voor vragen kun je contact opnemen met Sarah van der Berg, HR Manager.`;

            vacatureInput.value = demoText;
            charCount.textContent = demoText.length;
            
            // Scroll to input
            vacatureInput.scrollIntoView({ behavior: 'smooth', block: 'center' });
            
            // Show notification
            showNotification('Demo vacature geladen! Klik nu op "Analyseer Vacature" om te zien hoe de tool werkt.', 'success');
        }

        // Main analysis function
        async function analyzeVacature() {
            const text = vacatureInput.value.trim();
            
            if (text.length < 50) {
                showNotification('Voer minimaal 50 karakters in voor een betrouwbare analyse.', 'error');
                return;
            }

            const analyzeBtn = document.getElementById('analyzeBtn');
            const analyzeIcon = document.getElementById('analyzeIcon');
            const analyzeText = document.getElementById('analyzeText');
            
            // Show loading state
            analyzeBtn.disabled = true;
            analyzeIcon.innerHTML = '<div class="loading-spinner"></div>';
            analyzeText.textContent = 'Analyseren...';
            
            try {
                // Simulate AI analysis (replace with real API call)
                await new Promise(resolve => setTimeout(resolve, 3000));
                
                const analysis = generateAnalysis(text);
                displayResults(analysis);
                
                // Show CTA section
                document.getElementById('ctaSection').classList.remove('hidden');
                
                showNotification('Analyse compleet! Bekijk de resultaten hieronder.', 'success');
                
            } catch (error) {
                showNotification('Er ging iets mis bij de analyse. Probeer het opnieuw.', 'error');
            } finally {
                // Reset button
                analyzeBtn.disabled = false;
                analyzeIcon.textContent = 'üöÄ';
                analyzeText.textContent = 'Analyseer Vacature';
            }
        }

        // Generate analysis results
        function generateAnalysis(text) {
            const wordCount = text.split(' ').length;
            const hasCompany = text.toLowerCase().includes('wij') || text.toLowerCase().includes('bedrijf');
            const hasSalary = text.match(/‚Ç¨|salaris|loon/i);
            const hasLocation = text.match(/amsterdam|rotterdam|den haag|utrecht|eindhoven|groningen|tilburg/i);
            const hasContact = text.includes('@') || text.match(/\d{2,3}[-\s]?\d{7,8}/);
            
            let score = 5;
            const points = [];
            const recommendations = [];
            
            // Length analysis
            if (wordCount > 200) {
                score += 1;
                points.push({
                    icon: '‚úÖ',
                    title: 'Goede lengte',
                    description: `Je vacature heeft ${wordCount} woorden. Dit is een goede lengte voor kandidaten om alle belangrijke informatie te vinden.`
                });
            } else {
                score -= 1;
                points.push({
                    icon: '‚ö†Ô∏è',
                    title: 'Te kort',
                    description: `Je vacature heeft slechts ${wordCount} woorden. Uitgebreidere vacatures trekken 30% meer sollicitaties.`
                });
                recommendations.push({
                    icon: 'üìù',
                    text: 'Voeg meer details toe over de functie, het bedrijf en wat jullie bieden aan werknemers.'
                });
            }
            
            // Company info
            if (hasCompany) {
                score += 1;
                points.push({
                    icon: '‚úÖ',
                    title: 'Bedrijfsinformatie',
                    description: 'Je vacature bevat informatie over het bedrijf, wat vertrouwen opbouwt bij kandidaten.'
                });
            } else {
                score -= 1;
                recommendations.push({
                    icon: 'üè¢',
                    text: 'Voeg meer informatie toe over je bedrijf, cultuur en missie om kandidaten te enthousiasmeren.'
                });
            }
            
            // Salary transparency
            if (hasSalary) {
                score += 2;
                points.push({
                    icon: '‚úÖ',
                    title: 'Salaris transparantie',
                    description: 'Salarisinformatie is vermeld. Dit verhoogt de kans op sollicitaties met 65%.'
                });
            } else {
                score -= 2;
                points.push({
                    icon: '‚ùå',
                    title: 'Geen salarisindicatie',
                    description: 'Er is geen salaris of salarisindicatie vermeld. Dit is een gemiste kans.'
                });
                recommendations.push({
                    icon: 'üí∞',
                    text: 'Voeg een salarisindicatie toe. Vacatures met salaris krijgen 65% meer reacties.'
                });
            }
            
            // Location
            if (hasLocation) {
                score += 1;
                points.push({
                    icon: '‚úÖ',
                    title: 'Locatie duidelijk',
                    description: 'De werklocatie is duidelijk vermeld, wat praktisch is voor kandidaten.'
                });
            } else {
                recommendations.push({
                    icon: 'üìç',
                    text: 'Vermeld duidelijk de werklocatie en eventuele thuiswerkmogelijkheden.'
                });
            }
            
            // Contact information
            if (hasContact) {
                score += 1;
                points.push({
                    icon: '‚úÖ',
                    title: 'Contactgegevens',
                    description: 'Contactinformatie is beschikbaar voor vragen van kandidaten.'
                });
            } else {
                recommendations.push({
                    icon: 'üìû',
                    text: 'Voeg contactgegevens toe zodat kandidaten hun vragen direct kunnen stellen.'
                });
            }
            
            // Cap score at 10
            score = Math.min(score, 10);
            
            return {
                score,
                points,
                recommendations,
                wordCount
            };
        }

        // Display results
        function displayResults(analysis) {
            const resultsSection = document.getElementById('resultsSection');
            const resultsContent = document.getElementById('resultsContent');
            
            let scoreClass = 'poor';
            let scoreLabel = 'Heeft verbetering nodig';
            
            if (analysis.score >= 8) {
                scoreClass = 'excellent';
                scoreLabel = 'Uitstekende vacature!';
            } else if (analysis.score >= 6) {
                scoreClass = 'good';
                scoreLabel = 'Goede basis, kleine verbeteringen mogelijk';
            }
            
            resultsContent.innerHTML = `
                <div class="overall-score">
                    <div class="score-circle ${scoreClass}">
                        ${analysis.score}/10
                    </div>
                    <div class="score-details">
                        <div class="score-label">${scoreLabel}</div>
                        <div class="score-description">Gebaseerd op ${analysis.wordCount} woorden en Nederlandse recruitment best practices</div>
                    </div>
                </div>
                
                <div class="analysis-points">
                    ${analysis.points.map(point => `
                        <div class="analysis-point">
                            <div class="point-header">
                                <span class="point-icon">${point.icon}</span>
                                <span class="point-title">${point.title}</span>
                            </div>
                            <div class="point-description">${point.description}</div>
                        </div>
                    `).join('')}
                </div>
                
                ${analysis.recommendations.length > 0 ? `
                    <div class="recommendations">
                        <h3 class="recommendations-title">üí° Aanbevelingen voor Verbetering</h3>
                        <div class="recommendation-list">
                            ${analysis.recommendations.map(rec => `
                                <div class="recommendation-item">
                                    <span class="recommendation-icon">${rec.icon}</span>
                                    <div class="recommendation-text">${rec.text}</div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                ` : ''}
            `;
            
            resultsSection.classList.remove('hidden');
            resultsSection.scrollIntoView({ behavior: 'smooth' });
        }

        // Enhanced Typeform Integration Class
        class EnhancedTypeformIntegration {
            constructor() {
                this.formId = formId;
                this.modal = document.getElementById('typeformModal');
                this.loading = document.getElementById('typeformLoading');
                this.content = document.getElementById('typeformContent');
                this.isScriptLoaded = false;
                this.isScriptLoading = false;
                this.retryCount = 0;
                this.maxRetries = 3;
                
                this.initEventListeners();
                this.preloadScript(); // Preload for better UX
            }

            initEventListeners() {
                // Close modal on escape key
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape' && this.modal.classList.contains('show')) {
                        this.closeModal();
                    }
                });

                // Close modal on backdrop click
                this.modal.addEventListener('click', (e) => {
                    if (e.target === this.modal) {
                        this.closeModal();
                    }
                });

                // TypeForm events
                window.addEventListener('message', (event) => {
                    this.handleTypeformMessage(event);
                });
            }

            async preloadScript() {
                // Preload script for better performance
                try {
                    await this.loadTypeformScript();
                } catch (error) {
                    console.warn('TypeForm preload failed:', error);
                }
            }

            async loadTypeformScript() {
                if (this.isScriptLoaded) return Promise.resolve();
                if (this.isScriptLoading) return this.scriptLoadingPromise;

                this.isScriptLoading = true;
                
                // Check if script already exists
                const existingScript = document.querySelector('script[src*="embed.typeform.com"]');
                if (existingScript) {
                    this.isScriptLoaded = true;
                    this.isScriptLoading = false;
                    return Promise.resolve();
                }

                this.scriptLoadingPromise = new Promise((resolve, reject) => {
                    const script = document.createElement('script');
                    script.src = 'https://embed.typeform.com/next/embed.js';
                    script.async = true;
                    script.crossOrigin = 'anonymous';

                    script.onload = () => {
                        this.isScriptLoaded = true;
                        this.isScriptLoading = false;
                        console.log('‚úÖ TypeForm script loaded successfully');
                        resolve();
                    };

                    script.onerror = (error) => {
                        this.isScriptLoading = false;
                        console.error('‚ùå TypeForm script failed to load:', error);
                        reject(new Error('Failed to load TypeForm script'));
                    };

                    // Set timeout for script loading
                    setTimeout(() => {
                        if (!this.isScriptLoaded) {
                            reject(new Error('TypeForm script loading timeout'));
                        }
                    }, 10000); // 10 second timeout

                    document.head.appendChild(script);
                });

                return this.scriptLoadingPromise;
            }

            async openModal() {
                try {
                    // Show modal with loading state
                    this.modal.classList.add('show');
                    document.body.style.overflow = 'hidden';
                    this.loading.classList.remove('hidden');

                    // Track modal open
                    this.trackEvent('typeform_modal_opened');

                    // Create Typeform embed (no script loading needed for iframe)
                    this.createTypeformEmbed();

                } catch (error) {
                    console.error('Error opening TypeForm:', error);
                    this.showError(error);
                }
            }

            createTypeformEmbed() {
                try {
                    // Clear previous content
                    this.content.innerHTML = '';

                    // Use original Typeform embed method with data-tf-live
                    const typeformDiv = document.createElement('div');
                    typeformDiv.setAttribute('data-tf-live', this.formId);
                    typeformDiv.style.width = '100%';
                    typeformDiv.style.height = '100%';
                    typeformDiv.style.minHeight = '500px';

                    this.content.appendChild(typeformDiv);

                    // Load Typeform script if not already loaded
                    if (!document.querySelector('script[src*="embed.typeform.com"]')) {
                        const script = document.createElement('script');
                        script.src = '//embed.typeform.com/next/embed.js';
                        script.async = true;
                        document.head.appendChild(script);
                        console.log('üìú Typeform script added to page');
                    }

                    console.log('‚úÖ Original data-tf-live embed created');
                    console.log('üìù Form ID:', this.formId);
                    this.trackEvent('typeform_original_embed_created');

                    // Hide loading after delay to allow embed to initialize
                    setTimeout(() => {
                        this.loading.classList.add('hidden');
                        
                        // Check if iframe appeared
                        const iframe = this.content.querySelector('iframe');
                        if (iframe) {
                            console.log('‚úÖ Typeform iframe successfully loaded!');
                        } else {
                            console.warn('‚ö†Ô∏è Typeform iframe not found after 3 seconds');
                        }
                    }, 3000);

                } catch (error) {
                    console.error('Error creating TypeForm embed:', error);
                    this.showError(error);
                }
            }

            closeModal() {
                this.modal.classList.remove('show');
                document.body.style.overflow = 'auto';
                
                // Track modal close
                this.trackEvent('typeform_modal_closed');

                // Optional: Clear content to save memory
                setTimeout(() => {
                    if (!this.modal.classList.contains('show')) {
                        this.content.innerHTML = '';
                        this.loading.classList.remove('hidden');
                    }
                }, 300);
            }

            showError(error) {
                this.loading.classList.add('hidden');
                
                const errorHTML = `
                    <div class="typeform-error">
                        <div class="error-icon">‚ö†Ô∏è</div>
                        <div class="error-title">Formulier kon niet worden geladen</div>
                        <div class="error-message">
                            ${error.message || 'Er is een technische fout opgetreden. Probeer het opnieuw.'}
                        </div>
                        <button class="retry-btn" onclick="typeformIntegration.retryLoad()">
                            üîÑ Opnieuw Proberen
                        </button>
                    </div>
                `;
                
                this.content.innerHTML = errorHTML;
                this.trackEvent('typeform_error', { error: error.message });
            }

            async retryLoad() {
                if (this.retryCount >= this.maxRetries) {
                    this.showError(new Error('Maximum aantal pogingen bereikt. Neem contact op met support.'));
                    return;
                }

                this.retryCount++;
                this.loading.classList.remove('hidden');
                this.content.innerHTML = '';

                try {
                    // Reset script state for retry
                    this.isScriptLoaded = false;
                    this.isScriptLoading = false;
                    
                    await this.loadTypeformScript();
                    this.createTypeformEmbed();
                } catch (error) {
                    this.showError(error);
                }
            }

            handleTypeformMessage(event) {
                // Handle messages from TypeForm iframe
                if (event.origin !== 'https://form.typeform.com') return;

                const data = event.data;
                console.log('TypeForm message:', data);

                switch (data.type) {
                    case 'form_ready':
                        this.loading.classList.add('hidden');
                        this.trackEvent('typeform_ready');
                        break;
                    case 'form_submit':
                        this.trackEvent('typeform_submit', { formId: this.formId });
                        // Auto-close after successful submission (optional)
                        setTimeout(() => {
                            this.closeModal();
                            this.showSuccessMessage();
                        }, 2000);
                        break;
                    case 'form_screen_changed':
                        this.trackEvent('typeform_progress', { screen: data.screen });
                        break;
                }
            }

            showSuccessMessage() {
                // Show a success notification (implement as needed)
                console.log('üéâ Form successfully submitted!');
                showNotification('Bedankt! We nemen binnen 24 uur contact met je op over je geoptimaliseerde vacature.', 'success');
            }

            trackEvent(eventName, properties = {}) {
                // Enhanced analytics tracking
                const eventData = {
                    event: eventName,
                    formId: this.formId,
                    timestamp: new Date().toISOString(),
                    ...properties
                };

                console.log('üìä Analytics Event:', eventData);

                // Google Analytics 4
                if (typeof gtag !== 'undefined') {
                    gtag('event', eventName, {
                        event_category: 'TypeForm',
                        event_label: 'Vacature Upload',
                        ...properties
                    });
                }

                // Add other analytics platforms here (e.g., Mixpanel, Facebook Pixel)
            }
        }

        // Global functions for buttons
        function openTypeForm() {
            if (!typeformIntegration) {
                typeformIntegration = new EnhancedTypeformIntegration();
            }
            typeformIntegration.openModal();
        }

        function closeTypeForm() {
            if (typeformIntegration) {
                typeformIntegration.closeModal();
            }
        }

        // Notification system
        function showNotification(message, type = 'info') {
            // Remove existing notifications
            const existingNotifications = document.querySelectorAll('.notification');
            existingNotifications.forEach(notification => notification.remove());
            
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.innerHTML = `
                <div class="notification-content">
                    <span class="notification-message">${message}</span>
                    <button class="notification-close">&times;</button>
                </div>
            `;
            
            // Add styles if not already added
            if (!document.querySelector('#notification-styles')) {
                const styles = document.createElement('style');
                styles.id = 'notification-styles';
                styles.textContent = `
                    .notification {
                        position: fixed;
                        top: 20px;
                        right: 20px;
                        z-index: 10000;
                        padding: 1rem 1.5rem;
                        border-radius: 8px;
                        box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1);
                        max-width: 400px;
                        animation: slideIn 0.3s ease;
                    }
                    
                    .notification-success {
                        background-color: #10b981;
                        color: white;
                    }
                    
                    .notification-error {
                        background-color: #ef4444;
                        color: white;
                    }
                    
                    .notification-info {
                        background-color: #3b82f6;
                        color: white;
                    }
                    
                    .notification-content {
                        display: flex;
                        justify-content: space-between;
                        align-items: center;
                        gap: 1rem;
                    }
                    
                    .notification-close {
                        background: none;
                        border: none;
                        color: inherit;
                        font-size: 1.5rem;
                        cursor: pointer;
                        line-height: 1;
                        padding: 0;
                        width: 20px;
                        height: 20px;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                    }
                    
                    @keyframes slideIn {
                        from {
                            transform: translateX(100%);
                            opacity: 0;
                        }
                        to {
                            transform: translateX(0);
                            opacity: 1;
                        }
                    }
                    
                    @media (max-width: 480px) {
                        .notification {
                            right: 10px;
                            left: 10px;
                            max-width: none;
                        }
                    }
                `;
                document.head.appendChild(styles);
            }
            
            // Add to page
            document.body.appendChild(notification);
            
            // Close button functionality
            const closeButton = notification.querySelector('.notification-close');
            closeButton.addEventListener('click', () => {
                notification.remove();
            });
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                if (document.body.contains(notification)) {
                    notification.remove();
                }
            }, 5000);
        }

        // Initialize when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            // Pre-initialize for better performance
            setTimeout(() => {
                typeformIntegration = new EnhancedTypeformIntegration();
            }, 1000);

            console.log('üöÄ Vacature Analyse Tool initialized');
            console.log('üìã Form ID: 01K25SKWYTKZ05DAHER9D52J94');
            console.log('‚úÖ All systems ready');
        });

        // Accessibility enhancements
        document.addEventListener('focusin', function(e) {
            // Ensure proper focus management within modal
            const modal = document.getElementById('typeformModal');
            if (modal.classList.contains('show')) {
                if (!modal.contains(e.target)) {
                    // Focus escaped modal, bring it back
                    const closeBtn = modal.querySelector('.typeform-close');
                    if (closeBtn) closeBtn.focus();
                }
            }
        });

        // Performance monitoring
        if ('performance' in window) {
            window.addEventListener('load', function() {
                setTimeout(() => {
                    const perfData = performance.getEntriesByType('navigation')[0];
                    if (perfData) {
                        console.log('‚ö° Page load time:', Math.round(perfData.loadEventEnd - perfData.loadEventStart), 'ms');
                    }
                }, 0);
            });
        }
    </script>
</body>
</html>