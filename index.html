<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vacature Check - Waarom Reageren Kandidaten Niet?</title>
    <meta name="description" content="Ontdek direct waarom kandidaten niet reageren op je vacature. Gratis analyse + professionele optimalisatie binnen 24u.">
    
    <!-- Preload TypeForm resources for faster loading -->
    <link rel="preconnect" href="https://embed.typeform.com">
    <link rel="dns-prefetch" href="//embed.typeform.com">
    <link rel="preload" href="//embed.typeform.com/next/embed.js" as="script">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3E🇳🇱%3C/text%3E%3C/svg%3E">
    
    <style>
        /* ===============================================
           RESET & VARIABLES
           =============================================== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary-orange: #FF6B35;
            --primary-blue: #4F46E5;
            --success: #10B981;
            --warning: #F59E0B;
            --error: #EF4444;
            --gray-900: #1F2937;
            --gray-800: #374151;
            --gray-700: #4B5563;
            --gray-600: #6B7280;
            --gray-500: #9CA3AF;
            --gray-400: #D1D5DB;
            --gray-300: #E5E7EB;
            --gray-200: #F3F4F6;
            --gray-100: #F9FAFB;
            --white: #FFFFFF;
            --font-primary: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        }

        body {
            font-family: var(--font-primary);
            line-height: 1.6;
            color: var(--gray-900);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }

        /* ===============================================
           HERO SECTION
           =============================================== */
        .hero-section {
            background: var(--white);
            border-radius: 20px;
            padding: 3rem 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow-xl);
            text-align: center;
        }

        .hero-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 1rem;
            line-height: 1.2;
        }

        .hero-subtitle {
            font-size: 1.25rem;
            color: var(--gray-600);
            margin-bottom: 2rem;
        }

        .social-proof {
            display: inline-flex;
            align-items: center;
            background: var(--gray-100);
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            margin-bottom: 2.5rem;
            font-size: 0.95rem;
            color: var(--gray-700);
            font-weight: 500;
        }

        .social-proof-icon {
            margin-right: 0.5rem;
            font-size: 1.2rem;
        }

        /* ===============================================
           VACATURE TEXTAREA
           =============================================== */
        .input-section {
            margin-bottom: 2rem;
        }

        .input-label {
            display: block;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--gray-800);
            margin-bottom: 0.75rem;
            text-align: left;
        }

        .vacature-textarea {
            width: 100%;
            min-height: 200px;
            padding: 1.5rem;
            border: 2px solid var(--gray-300);
            border-radius: 12px;
            font-family: var(--font-primary);
            font-size: 1rem;
            line-height: 1.6;
            resize: vertical;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
            background: var(--white);
        }

        .vacature-textarea:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }

        .vacature-textarea::placeholder {
            color: var(--gray-500);
        }

        /* ===============================================
           ANALYZE BUTTON
           =============================================== */
        .analyze-btn {
            background: linear-gradient(135deg, var(--primary-orange), #e55a2b);
            color: var(--white);
            border: none;
            padding: 1.25rem 2.5rem;
            border-radius: 12px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            box-shadow: var(--shadow-lg);
            text-transform: none;
            width: 100%;
            justify-content: center;
            margin-bottom: 1rem;
        }

        .analyze-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl);
            background: linear-gradient(135deg, #e55a2b, #d14d20);
        }

        .analyze-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .btn-icon {
            font-size: 1.4rem;
        }

        /* ===============================================
           RESULTS SECTION
           =============================================== */
        .results-section {
            background: var(--white);
            border-radius: 20px;
            padding: 2.5rem 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow-xl);
            display: none;
        }

        .results-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .results-title {
            font-size: 2rem;
            font-weight: 700;
            color: var(--error);
            margin-bottom: 0.5rem;
        }

        .results-subtitle {
            font-size: 1.1rem;
            color: var(--gray-600);
        }

        /* Score Display - Simplified */
        .main-score {
            text-align: center;
            background: linear-gradient(135deg, #fee2e2, #fef2f2);
            border: 2px solid var(--error);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .score-number {
            font-size: 4rem;
            font-weight: 900;
            color: var(--error);
            display: block;
            line-height: 1;
            margin-bottom: 0.5rem;
        }

        .score-label {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--gray-800);
            margin-bottom: 0.5rem;
        }

        .score-message {
            font-size: 1rem;
            color: var(--gray-700);
            font-weight: 500;
        }

        /* Critical Issues */
        .critical-issues {
            margin-bottom: 2.5rem;
        }

        .critical-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .critical-list {
            list-style: none;
        }

        .critical-item {
            background: #fef2f2;
            border-left: 4px solid var(--error);
            padding: 1.25rem;
            margin-bottom: 1rem;
            border-radius: 0 8px 8px 0;
            font-size: 1rem;
            color: var(--gray-800);
            line-height: 1.6;
        }

        /* ===============================================
           UPLOAD SECTION
           =============================================== */
        .upload-section {
            background: linear-gradient(135deg, var(--primary-orange), #e55a2b);
            color: var(--white);
            border-radius: 20px;
            padding: 2.5rem 2rem;
            text-align: center;
            box-shadow: var(--shadow-xl);
            display: none;
        }

        .upload-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .upload-subtitle {
            font-size: 1.1rem;
            opacity: 0.95;
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .privacy-section {
            background: rgba(255,255,255,0.15);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            text-align: left;
        }

        .privacy-checkbox {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
        }

        .privacy-checkbox input[type="checkbox"] {
            margin-top: 0.2rem;
            transform: scale(1.3);
        }

        .privacy-text {
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .privacy-link {
            color: var(--white);
            text-decoration: underline;
            font-weight: 600;
        }

        .upload-btn {
            background: var(--white);
            color: var(--primary-orange);
            border: none;
            padding: 1.25rem 2.5rem;
            border-radius: 12px;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            box-shadow: var(--shadow-lg);
            margin-bottom: 1rem;
        }

        .upload-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl);
        }

        .upload-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .upload-help {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* ===============================================
           SUCCESS MESSAGE
           =============================================== */
        .success-message {
            background: linear-gradient(135deg, var(--success), #059669);
            color: var(--white);
            border-radius: 20px;
            padding: 2.5rem 2rem;
            text-align: center;
            box-shadow: var(--shadow-xl);
            display: none;
        }

        .success-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        .success-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .success-text {
            font-size: 1.1rem;
            opacity: 0.95;
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .calendly-section {
            background: rgba(255,255,255,0.15);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 1.5rem;
        }

        .calendly-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .calendly-subtitle {
            font-size: 1rem;
            opacity: 0.9;
            margin-bottom: 1.5rem;
        }

        .calendly-btn {
            background: var(--white);
            color: var(--success);
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-md);
        }

        .calendly-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .success-status {
            padding-top: 1rem;
            border-top: 1px solid rgba(255,255,255,0.3);
            font-size: 0.9rem;
            opacity: 0.8;
        }

        /* ===============================================
           LOADING STATES
           =============================================== */
        .loading {
            display: none;
            text-align: center;
            padding: 2rem;
        }

        .spinner {
            border: 3px solid var(--gray-200);
            border-top: 3px solid var(--primary-orange);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* ===============================================
           TOAST NOTIFICATIONS
           =============================================== */
        .toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 10000;
        }

        .toast {
            background: var(--white);
            border-radius: 8px;
            padding: 1rem 1.5rem;
            margin-bottom: 0.5rem;
            box-shadow: var(--shadow-lg);
            border-left: 4px solid var(--success);
            display: flex;
            align-items: center;
            gap: 0.75rem;
            min-width: 300px;
            animation: slideIn 0.3s ease;
        }

        .toast.error {
            border-left-color: var(--error);
        }

        .toast.warning {
            border-left-color: var(--warning);
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* ===============================================
           RESPONSIVE
           =============================================== */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .hero-section {
                padding: 2rem 1.5rem;
            }

            .hero-title {
                font-size: 2rem;
            }

            .hero-subtitle {
                font-size: 1.1rem;
            }

            .results-section, .upload-section, .success-message {
                padding: 2rem 1.5rem;
            }

            .score-number {
                font-size: 3rem;
            }

            .analyze-btn, .upload-btn {
                padding: 1rem 2rem;
                font-size: 1.1rem;
            }
        }

        @media (max-width: 480px) {
            .hero-title {
                font-size: 1.75rem;
            }

            .vacature-textarea {
                min-height: 150px;
                padding: 1rem;
            }

            .analyze-btn, .upload-btn {
                padding: 1rem 1.5rem;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Hero Section -->
        <div class="hero-section">
            <h1 class="hero-title">Waarom reageren kandidaten niet op je vacature?</h1>
            <p class="hero-subtitle">Ontdek direct wat er mis gaat en krijg een professioneel geoptimaliseerde versie</p>
            
            <div class="social-proof">
                <span class="social-proof-icon">✅</span>
                2000+ recruiters verbeteren hun resultaten met deze tool
            </div>

            <div class="input-section">
                <label for="vacatureText" class="input-label">Plak je vacaturetekst hieronder:</label>
                <textarea 
                    id="vacatureText" 
                    class="vacature-textarea"
                    placeholder="Plak hier je volledige vacaturetekst...

Bijvoorbeeld:
Marketing Manager gezocht
Wij zoeken een enthousiaste marketing professional...
Functie-eisen: HBO opleiding, 3 jaar ervaring...
Wat bieden wij: Marktconform salaris, laptop..."
                    maxlength="10000"
                ></textarea>
            </div>

            <button id="analyzeBtn" class="analyze-btn" onclick="analyzeVacature()">
                <span class="btn-icon">🔍</span>
                <span>Analyseer Mijn Vacature Nu</span>
            </button>

            <div id="loadingSection" class="loading">
                <div class="spinner"></div>
                <p>Analyseren van je vacature...</p>
            </div>
        </div>

        <!-- Results Section -->
        <div id="resultsSection" class="results-section">
            <div class="results-header">
                <h2 class="results-title">🚨 Je Vacature Scoort Slecht!</h2>
                <p class="results-subtitle">Dit kost je waarschijnlijk goede kandidaten</p>
            </div>

            <div class="main-score">
                <span id="mainScoreNumber" class="score-number">4.2/10</span>
                <div class="score-label">Gemiddelde Score</div>
                <div class="score-message">Aanzienlijke verbeteringen mogelijk</div>
            </div>

            <div class="critical-issues">
                <h3 class="critical-title">
                    <span>⚠️</span>
                    Top 3 Kritieke Problemen
                </h3>
                <ul id="criticalList" class="critical-list">
                    <!-- Populated by JavaScript -->
                </ul>
            </div>
        </div>

        <!-- Upload Section -->
        <div id="uploadSection" class="upload-section">
            <h2 class="upload-title">🚀 Krijg Een Professionele Optimalisatie</h2>
            <p class="upload-subtitle">
                Upload je vacature en ontvang binnen 24 uur een geoptimaliseerde versie die 40-60% meer respons genereert
            </p>

            <div class="privacy-section">
                <div class="privacy-checkbox">
                    <input type="checkbox" id="privacyAcceptance" required>
                    <div class="privacy-text">
                        <strong>Ik ga akkoord met de 
                        <a href="https://recruitin.nl/privacyverklaring-recruitin/" target="_blank" class="privacy-link">
                            privacyverklaring van Recruitin
                        </a></strong>
                        <br>
                        <small>Je gegevens worden veilig behandeld en niet gedeeld met derden.</small>
                    </div>
                </div>
            </div>

            <button id="uploadBtn" class="upload-btn" onclick="openTypeForm()" disabled>
                <span class="btn-icon">📄</span>
                <span>Upload Document - Start Optimalisatie</span>
            </button>

            <div class="upload-help">
                Het formulier opent in een nieuw venster waar je je vacature kunt uploaden
            </div>
        </div>

        <!-- Success Message -->
        <div id="successMessage" class="success-message">
            <div class="success-icon">🎉</div>
            <h2 class="success-title">Formulier Succesvol Verzonden!</h2>
            <p class="success-text">
                Bedankt voor je upload! We gaan direct aan de slag met de optimalisatie van je vacature. 
                Je ontvangt binnen 24 uur een professioneel geoptimaliseerde versie per email.
            </p>

            <div class="calendly-section">
                <h3 class="calendly-title">📅 Plan een Persoonlijk Gesprek</h3>
                <p class="calendly-subtitle">
                    Wil je persoonlijk sparren over je recruitment strategie? 
                    Plan een gratis 30-minuten adviesgesprek.
                </p>
                <a href="https://calendly.com/recruitin/30min" 
                   target="_blank" 
                   class="calendly-btn"
                   onclick="trackEvent('calendly_clicked', {event_category: 'conversion', event_label: 'post_typeform'});">
                    🚀 Boek Gratis Adviesgesprek
                </a>
            </div>

            <div class="success-status">
                ✅ Upload voltooid • ✅ Analyse gestart • ✅ Email onderweg
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- JavaScript -->
    <script>
        // ===============================================
        // SIMPLIFIED VACATURE OPTIMIZER
        // ===============================================

        // Preload TypeForm script for faster loading
        let typeformScriptLoaded = false;
        let typeformScriptLoading = false;
        let currentAnalysis = null;

        function preloadTypeFormScript() {
            if (typeformScriptLoaded || typeformScriptLoading || document.querySelector('script[src*="embed.typeform.com"]')) {
                return Promise.resolve();
            }
            
            return new Promise((resolve, reject) => {
                typeformScriptLoading = true;
                console.log('🔄 Preloading TypeForm script...');
                
                const script = document.createElement('script');
                script.src = '//embed.typeform.com/next/embed.js';
                script.async = true;
                script.onload = () => {
                    console.log('✅ TypeForm script preloaded successfully');
                    typeformScriptLoaded = true;
                    typeformScriptLoading = false;
                    resolve();
                };
                script.onerror = () => {
                    console.error('❌ TypeForm script preload failed');
                    typeformScriptLoading = false;
                    reject();
                };
                document.head.appendChild(script);
            });
        }

        // Start preloading when page loads
        document.addEventListener('DOMContentLoaded', () => {
            initializePrivacyCheckbox();
            
            // Preload TypeForm script in background
            setTimeout(() => {
                preloadTypeFormScript().catch(() => {
                    console.warn('TypeForm preload failed, will try again on demand');
                });
            }, 1000);
        });

        // Privacy checkbox functionality
        function initializePrivacyCheckbox() {
            const checkbox = document.getElementById('privacyAcceptance');
            const button = document.getElementById('uploadBtn');
            
            if (!checkbox || !button) {
                return;
            }
            
            function updateButtonState() {
                if (checkbox.checked) {
                    button.disabled = false;
                    button.style.opacity = '1';
                    button.style.cursor = 'pointer';
                } else {
                    button.disabled = true;
                    button.style.opacity = '0.6';
                    button.style.cursor = 'not-allowed';
                }
            }
            
            updateButtonState();
            checkbox.addEventListener('change', updateButtonState);
        }

        // Analyze vacature
        async function analyzeVacature() {
            const text = document.getElementById('vacatureText').value.trim();
            
            if (!text) {
                showToast('Vacaturetekst Vereist', 'Plak eerst je vacaturetekst om te kunnen analyseren.', 'warning');
                return;
            }

            if (text.length < 50) {
                showToast('Tekst Te Kort', 'Je vacaturetekst is te kort voor een goede analyse.', 'warning');
                return;
            }

            // Show loading
            const loadingSection = document.getElementById('loadingSection');
            const analyzeBtn = document.getElementById('analyzeBtn');
            
            loadingSection.style.display = 'block';
            analyzeBtn.disabled = true;
            
            trackEvent('analysis_started', {
                event_category: 'engagement',
                text_length: text.length
            });

            try {
                // Simulate API call with mock data for demo
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                // Generate realistic bad results to trigger upload
                currentAnalysis = generateMockAnalysis(text);
                displayResults(currentAnalysis);
                
                trackEvent('analysis_completed', {
                    event_category: 'engagement',
                    score: currentAnalysis.gemiddelde_score
                });

            } catch (error) {
                console.error('Analysis failed:', error);
                showToast('Analyse Mislukt', 'Er ging iets mis. Probeer het opnieuw.', 'error');
            } finally {
                loadingSection.style.display = 'none';
                analyzeBtn.disabled = false;
            }
        }

        // Generate mock analysis with deliberately low scores to encourage upload
        function generateMockAnalysis(text) {
            const issues = [
                'Voeg een concrete salaris range toe (bijv. €45.000-65.000) - dit verhoogt respons met 40-60%',
                'Versterk employer branding met bedrijfscultuur, groeimogelijkheden en unieke benefits',
                'Maak de functiebeschrijving specifieker met concrete voorbeelden en verwachtingen',
                'Vervang vage termen door concrete, meetbare criteria',
                'Voeg informatie toe over doorgroeimogelijkheden en ontwikkeling',
                'Schrijf aantrekkelijker en persoonlijker in je tone of voice'
            ];

            // Deliberately low scores to trigger conversion
            const scores = {
                aantrekkelijkheid: Math.floor(Math.random() * 3) + 4, // 4-6
                duidelijkheid: Math.floor(Math.random() * 3) + 5,     // 5-7  
                volledigheid: Math.floor(Math.random() * 3) + 4,      // 4-6
                salaris_transparantie: Math.floor(Math.random() * 2) + 2, // 2-3 (very low)
                contact_sollicitatie: Math.floor(Math.random() * 3) + 5   // 5-7
            };

            const gemiddelde = Object.values(scores).reduce((a, b) => a + b) / Object.keys(scores).length;

            return {
                gemiddelde_score: Math.round(gemiddelde * 10) / 10,
                scores: scores,
                top_3_verbeterpunten: issues.slice(0, 3),
                text_length: text.length
            };
        }

        // Display results
        function displayResults(analysis) {
            const resultsSection = document.getElementById('resultsSection');
            const uploadSection = document.getElementById('uploadSection');
            const scoreNumber = document.getElementById('mainScoreNumber');
            const criticalList = document.getElementById('criticalList');

            // Update score
            scoreNumber.textContent = `${analysis.gemiddelde_score}/10`;

            // Update critical issues
            criticalList.innerHTML = '';
            analysis.top_3_verbeterpunten.forEach((issue, index) => {
                const li = document.createElement('li');
                li.className = 'critical-item';
                li.textContent = `${index + 1}. ${issue}`;
                criticalList.appendChild(li);
            });

            // Show sections with animation
            resultsSection.style.display = 'block';
            resultsSection.style.opacity = '0';
            resultsSection.style.transform = 'translateY(20px)';
            resultsSection.style.transition = 'all 0.5s ease';

            setTimeout(() => {
                resultsSection.style.opacity = '1';
                resultsSection.style.transform = 'translateY(0)';
                resultsSection.scrollIntoView({ behavior: 'smooth' });
            }, 100);

            // Show upload section after delay
            setTimeout(() => {
                uploadSection.style.display = 'block';
                uploadSection.style.opacity = '0';
                uploadSection.style.transform = 'translateY(20px)';
                uploadSection.style.transition = 'all 0.5s ease';

                setTimeout(() => {
                    uploadSection.style.opacity = '1';
                    uploadSection.style.transform = 'translateY(0)';
                }, 100);
            }, 1500);
        }

        // Open TypeForm
        function openTypeForm() {
            const checkbox = document.getElementById('privacyAcceptance');
            
            if (!checkbox || !checkbox.checked) {
                showToast('Privacy Vereist', 'Accepteer eerst de privacyverklaring om door te gaan.', 'warning');
                return;
            }
            
            trackEvent('typeform_popup_clicked', {
                event_category: 'conversion',
                analysis_score: currentAnalysis ? currentAnalysis.gemiddelde_score : 'unknown',
                privacy_accepted: true
            });
            
            console.log('🚀 Opening TypeForm directly...');
            
            // Direct TypeForm URL
            const formUrl = 'https://form.typeform.com/to/01K25SKWYTKZ05DAHER9D52J94';
            
            // Try popup first
            const popup = window.open(formUrl, 'typeform_popup', 'width=900,height=700,scrollbars=yes,resizable=yes,location=no,toolbar=no,menubar=no,status=no');
            
            if (popup) {
                console.log('✅ TypeForm popup opened successfully');
                showToast('Formulier Geopend', 'Het upload formulier is geopend. Vul het in en sluit het venster daarna.', 'success');
                
                // Monitor for popup close
                const checkClosed = setInterval(() => {
                    if (popup.closed) {
                        clearInterval(checkClosed);
                        console.log('TypeForm popup was closed');
                        
                        setTimeout(() => {
                            const completed = confirm('Heb je het formulier succesvol ingevuld en verzonden?\n\nKlik "OK" als je het hebt verzonden, of "Annuleren" als je het nog niet hebt ingevuld.');
                            if (completed) {
                                handleTypeFormCompletion();
                            }
                        }, 500);
                    }
                }, 1000);
                
                trackEvent('typeform_popup_opened', {
                    event_category: 'conversion',
                    method: 'direct_popup'
                });
            } else {
                // Fallback to new tab
                const newTab = window.open(formUrl, '_blank');
                
                if (newTab) {
                    showToast('Formulier Geopend', 'Het formulier is geopend in een nieuw tabblad.', 'success');
                } else {
                    showToast('Popup Geblokkeerd', 'Popup werd geblokkeerd. Open handmatig: ' + formUrl, 'warning');
                }
            }
        }

        // Handle TypeForm completion
        function handleTypeFormCompletion() {
            const uploadSection = document.getElementById('uploadSection');
            const successMessage = document.getElementById('successMessage');
            
            // Hide upload and show success
            uploadSection.style.display = 'none';
            successMessage.style.display = 'block';
            
            // Animation
            successMessage.style.opacity = '0';
            successMessage.style.transform = 'translateY(20px)';
            successMessage.style.transition = 'all 0.5s ease';
            
            setTimeout(() => {
                successMessage.style.opacity = '1';
                successMessage.style.transform = 'translateY(0)';
                successMessage.scrollIntoView({ behavior: 'smooth' });
            }, 100);
            
            showToast('Formulier Verzonden!', 'Je upload is succesvol ontvangen. Check je email binnen 24 uur.', 'success');
            
            trackEvent('typeform_completed', {
                event_category: 'conversion',
                event_label: 'form_submitted'
            });
        }

        // Toast notifications
        function showToast(title, message, type = 'success') {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            
            const icon = type === 'error' ? '❌' : type === 'warning' ? '⚠️' : '✅';
            
            toast.innerHTML = `
                <div style="font-size: 1.2rem;">${icon}</div>
                <div>
                    <div style="font-weight: 600; margin-bottom: 0.25rem;">${title}</div>
                    <div style="font-size: 0.9rem; opacity: 0.8;">${message}</div>
                </div>
            `;
            
            container.appendChild(toast);
            
            // Auto remove
            setTimeout(() => {
                toast.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    if (container.contains(toast)) {
                        container.removeChild(toast);
                    }
                }, 300);
            }, 5000);
        }

        // Event tracking
        function trackEvent(eventName, properties = {}) {
            console.log(`📊 Event: ${eventName}`, properties);
            
            // Add to Google Analytics if available
            if (typeof gtag !== 'undefined') {
                gtag('event', eventName, properties);
            }
        }
    </script>
</body>
</html>